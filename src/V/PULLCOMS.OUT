
---------************* a1blit.asm *************-------

;a1blit.asm - take a rectangular bitplane source and move it to a 
;byte-a-pixel destination.  Where there are 1's in the source the destination
;is set to the color parameter.  Where there are 0's in the source the
;destination is unchanged.  The destination is clipped to the screen
;(see clipit.asm).

;:ts=10


---------************* a2blit.asm *************-------

;a2blit.asm - take a rectangular bitplane source and move it to a 
;byte-a-pixel destination.  Where there are 1's in the source the destination
;is set to the color parameter.  Where there are 0's in the source the
;destination set to the color1 parameter. The destination is clipped to 
;the screen (see clipit.asm).

;:ts=10


---------************* a3d.c *************-------


/*	a3d.c - This file contains most of the code for the optics section. */


---------************* a3ddat.c *************-------


/* a3ddat.c - This file contains the data structures for the optics panel.
   Also some functions for enabling/disabling buttons and rearranging
   the optics panel for example to bring up the reduce/enlarge sliders
   when you press the size button */

/* Gak this is next to completely gnarly.  There's I'm not sure,
   3 or 4 levels to the menu tree.  The main branches are
   			1. Mouse control area on left.
				Size specific controls (x y xy proportional)
				Everyone else's controls (x y z yz zx xy)

			2. The 'major' mode strip - whether it's turn/size/move/path
     			Just 4 radio buttons in the center.

			3. The subpanel area - which changes depending which
			   major mode you are in.

   The subpanel area is where it gets really complicated:  

   In the case of 'turn' and 'size' the left part of the subpanel
   contains radio buttons which select a subsubpanel to the right.
   What I did to minimize as best I could the number of buttons
   serving only as hierarchical place holders is too complex for
   me to remember any more.  Lets hope no-one wants us to add
   'just one more feature' that would require re-laying this out.

   In the case of 'move'  you go straight to an x/y/z slider set 
   covering the entire subpanel.  

   The path sub panel also isn't too bad.  At least the menus
   aren't alway spontaniously re-arranging themselves.

   Oh well.  Someday I'll figure out a simpler way to do this,
   or maybe just give up doing these paint-box like interfaces
   when they go beyond simple columns of text.
   */



---------************* a3dpull.c *************-------

/* a3dpull.c - pull-down system for optics */


---------************* alt.c *************-------


/* alt.c - A few functions for the alt screen */


---------************* arctan.c *************-------

/* arctan.c - a relatively fast table based method for finding out an
   angle given the x,y coordinates of a ray at that angle */


---------************* auto.c *************-------


/* auto.c - This file contains the basic methods for doing an operation
   over multiple frames.  The key function is doauto(rvec).  Rvec is
   a function which is called with three parameters:
   		the first is which of the multiple frames it dealing with
		the second is how many frames total there are to deal with
		the last is a scaled percentage indicating how far along
		    in the sequence of frames it is.  (0 for first frame,
			SCALE_ONE (or 1<<14 literally) for the last frame.)
   Rvec is expected to do some transformation on the screen *render_form.
   Rvec also has access to the screen uf (the undo buffer) which will
   start out as a copy of render form.  

   Basically rvec just draws on the screen as if it were doing it to
   a single frame,  using the scale parameter to figure out where
   to draw if it wants to move something.

   Also included in this file are some of the simpler functions that
   call do_auto and their associated rvec functions.  By convention
   a rvec function name ends with '1' - eg expand1.

   dopreview(rvec) is much like doauto.  (At least rvec is the same.)
   Instead of actually changing the flic it just does rvec and throws
   away the result.
   */



---------************* autoseg.c *************-------


/* autoseg.c - apply a graphics transformation to time segment.  See also
   auto.c, especially function 'dall(rvec)' */



---------************* backward.c *************-------


/* backwards.c - This is what we got to do to save a flic backwards. */


---------************* bfile.c *************-------


/* bfile.c - Jim Kent's very owned buffered file i/o.  Much like
   C fopen(), fclose(), etc in result.  Maybe faster, but certainly
   works better with my memory management routines.

   Some quirks:
   		bopen(char *name, Bfile *bf) 
			this always opens a file to read.  You pass it the Bfile
			cause, I donno... seems cleaner.
		bcreate(char *name, Bfile *bf)
			Creates a file to write. 
*/


---------************* blit8.asm *************-------

;blit8.asm - Your basic blit (copy only, no xor or anything fancy) on
;a byte-a-pixel source and dest.  Not set up to deal with overlapping
;source and destination.  Clips to fit destination if necessary. (see
;clipit.asm)
;:ts=10


---------************* blue.c *************-------

/* blue.c - Stuff to implement much of the trace drop down */


---------************* browse.c *************-------


/* browse.c - Stuff for browse flics.  Shares code with normal file menu
   in filemenu.c in a semi-gnarly fashion.  Wants pstamp.c for
   doing the actual read and shrink of the first frame of a fli. */


---------************* brush.c *************-------


/* brush.c - some data statements for 16x16 pixel brushes */


---------************* cblock.asm *************-------

;cblock.asm - draw a solid color rectangle on a 320x200 byte-a-pixel screen.
;Will clip if necessary on the spot.  Also routine to do an xor'd rectangle.



---------************* ccircle.asm *************-------

;ccircle.asm - not linked.  Relatively fast assembler draw-a-circle.
;Ends up the C/Assembler glue took so long I just nuked the assembler
;portion.  I think  this file still finds some use in Pogo


	;:ts=10

---------************* cel.c *************-------


/* cel.c - Stuff to do the basic things you need to do to a cel (ie a
   rectangular image with a color map.  Vcels and Vscreens (aka
   screens) are almost the same structure.  You can use all the cel
   routines on a screen as well.  There's some interactive cel positioning
   and pasting routines here too.  Also some of the other easy stuff on
   the Cel drop-down */


---------************* cfont.c *************-------


/* cfont.c  - Stuff to load and free up the 'user' (as opposed to built 
	in system) font */

---------************* choices.c *************-------


/* choices.c - build up simple list of selections type menus out of
   a list of strings.  */


---------************* circle.c *************-------


/* circle.c - Simple stepping draw a circle algorithm.  
	Don't even correct aspect ratio. */


---------************* cleanup.c *************-------


/* cleanup.c - stuff to install and take out interrupt drivers.  Code
   to exit cleanly from vpaint.  Emm support such as it is (will use
   64K, can't be bothered switching banks on the fly.) */


---------************* cline.c *************-------


/* cline.c - just your basic stepping line algorithm */


---------************* clipit.asm *************-------



;clipit.asm - clipping routine for blits.

;:ts=10


---------************* clipline.asm *************-------

;clipline.asm - this file isn't linked.  Probably won't even assemble.
;It's some line clipping that I ended up not using yanked out of clipit.asm

;clipline - pass it with bp pointing to the parameters suggested 
;immediately below.  Trashes registers ax,bx,cx,dx,si,di.  Returns
;with carry bit set if the line is clipped out, otherwise with
;the parameters adjusted to clipped values.
;
;This isn't the Evans/Sutherland algorithm, but one which clips one
;side at a time developed originally in 1984 for the Aegis Animator
;by Jim Kent.  (It's just pretty easy linear math though....) Really
;don't know if this one is better or not for single lines like this.
;You pretty much do have to clip one side at a time for closed filled
;polygons.
;

---------************* closestc.asm *************-------


;closestc.asm - find the closest color in the color map to some given
;RGB value.  Assumes RGB are each byte values.  May even break if they
;grow larger than 63.  (This is what VGA uses.)
;:ts=10


---------************* cluster.c *************-------


/* Cluster.c - most of the routines dealing with color cluster one
   way or another.  Some connections to palet2.c and cpack.c */


---------************* colorave.asm *************-------


;colorave.asm - This module computes the rgb average of a pixel and it's 
;8 neighbors...
;:ts=10



---------************* comp.asm *************-------

;comp.asm - some C glue to the 8086's string (repl XXX) instructions.  These
;are used extensively by the compression side of the FLI machinery.  Following
;these are some routines for decompressing FLI delta frames.


---------************* comprs.c *************-------

/* comprs.c - LZW compression code for GIF */

/*----------------------------------------------------------------------*/
/* Copyright (c) 1987							*/
/* by CompuServe Inc., Columbus, Ohio.  All Rights Reserved		*/
/*----------------------------------------------------------------------*/

/*
 * ABSTRACT:
 *	The compression algorithm builds a string translation table that maps
 *	substrings from the input string into fixed-length codes.  These codes
 *	are used by the expansion algorithm to rebuild the compressor's table
 *	and reconstruct the original data stream.  In it's simplest form, the
 *	algorithm can be stated as:
 *
 *		"if <w>k is in the table, then <w> is in the table"
 *
 *	<w> is a code which represents a string in the table.  When a new
 *	character k is read in, the table is searched for <w>k.  If this
 *	combination is found, <w> is set to the code for that combination
 *	and the next character is read in.  Otherwise, this combination is
 *	added to the table, the code <w> is written to the output stream and
 *	<w> is set to k.
 *
 *	The expansion algorithm builds an identical table by parsing each
 *	received code into a prefix string and suffix character.  The suffix
 *	character is pushed onto the stack and the prefix string translated
 *	again until it is a single character.  This completes the expansion.
 *	The expanded code is then output by popping the stack and a new entry
 *	is made in the table.
 *
 *	The algorithm used here has one additional feature.  The output codes
 *	are variable length.  They start at a specified number of bits.  Once
 *	the number of codes exceeds the current code size, the number of bits
 *	in the code is incremented.  When the table is completely full, a
 *	clear code is transmitted for the expander and the table is reset.
 *	This program uses a maximum code size of 12 bits for a total of 4096
 *	codes.
 *
 *	The expander realizes that the code size is changing when it's table
 *	size reaches the maximum for the current code size.  At this point,
 *	the code size in increased.  Remember that the expander's table is
 *	identical to the compressor's table at any point in the original data
 *	stream.
 *
 *	The compressed data stream is structured as follows:
 *		first byte denoting the minimum code size
 *		one or more counted byte strings. The first byte contains the
 *		length of the string. A null string denotes "end of data"
 *
 *	This format permits a compressed data stream to be embedded within a
 *	non-compressed context.
 *
 * AUTHOR: Steve Wilhite
 *
 * REVISION HISTORY:
 *   Speed tweaked a bit by Jim Kent 8/29/88
 *
 */


---------************* config.c *************-------

/* config.c - These routines manipulate the file v.cfg and act on the
   data contained there.  Configuration - state stuff that is semi-permanent
   in nature.  What input device to use, where to put temp files, what
   directory your fonts are in, what comm port to use for the serial
   summa tablet, whether it's safe to speed up the clock interrupt.
   */


---------************* cpack.c *************-------


/* cpack.c - routine to compress an arbitrary # of colors to an
   arbitrary smaller number of colors.  Works pretty cool except
   if you have duplicate colors in the source it sometimes hangs.
   (So filter out duplicate colors before calling pack_cmap... ) */


---------************* csort.c *************-------

/* csort.c - High level routines for sort by luminance, colormap squeeze,
   color arrange by spectrums or gradients.  Lo level routine for
   the sort. */


---------************* cthread.c *************-------

/* cthread.c - a rather clever little algorithm to rearrange your palette
   in such a way that it's likely to have a lot of smooth spectrums
   suitable for gradient fills and generally nicer to look at than
   your typical mess of a digitized palette. */


---------************* cursorda.c *************-------

/* cursorda.c - my collection of icons, some of them going back to 
   the Aegis Animator.  Not used for cursors any more.  (Cursors
   are fixed size and found in brush.c) */


---------************* debug.c *************-------


/* debug.c - not normally linked.  Handy hex dump to file routine.
   Whoopie what a marvel! */


---------************* decoder.c *************-------

/* DECODE.C - An LZW decoder for GIF
 * Copyright (C) 1987, by Steven A. Bennett
 *
 * Permission is given by the author to freely redistribute and include
 * this code in any program as long as this credit is given where due.
 *
 * In accordance with the above, I want to credit Steve Wilhite who wrote
 * the code which this is heavily inspired by...
 *
 * GIF and 'Graphics Interchange Format' are trademarks (tm) of
 * Compuserve, Incorporated, an H&R Block Company.
 *
 * Release Notes: This file contains a decoder routine for GIF images
 * which is similar, structurally, to the original routine by Steve Wilhite.
 * It is, however, somewhat noticably faster in most cases.
 *
 */


---------************* diag.asm *************-------

;diag.asm - map a diagonal line to a horizontal line.  The core of
;the raster rotating/stretching machinery in Vpaint.


---------************* diskerr.c *************-------

/* diskerr.c - Just make it so dos don't put up that abort/retry/fail
   message on my pretty screen.  Automatically fail.  I'll cope
   elsewhere from there.  Actually this is about the only Turbo C specific
   library routine I'm using.  Still yet another good reason not
   to switch to Microsoft! */


---------************* dissolve.c *************-------

/* dissolve.c - misc transition effects */


---------************* dosstuff.c *************-------

/* Dosstuff.c - MS-DOS routines (also see jfile.c) to figure out
   about directories, how much disk space is left, etc. */


---------************* drawmode.c *************-------


/* Drawmode.c This file contains the data structures and routines for the
   ink types menu.  The ink types menu 'parasites' off of the draw tools menu
   in options.c.   That is I wrote options.c first and then hacked it
   about so most of the code in the draw tools and ink types menus could
   be shared.  */



---------************* ellipse.c *************-------


/* Ellipse.c - draw an ellipse possibly with tilted axis's.  The jaggies
   on this one are still kind of ugly.  Keep promising myself to improve
   it someday.
   */


---------************* emmchek.asm *************-------

; emmchek.asm - See if we've got EMM.  If so we'll put the undo buffer there.
;    Tom Hudson gave me this routine.
;
; Check to see if EMM is resident
; emm_present()
; returns 0 (no EMM) or 1 (EMM present)
;



---------************* fccomp.c *************-------

/* fccomp.c -  code used to delta compress colors. */


---------************* feelmenu.c *************-------


/* Feelmenu.c - input handling routines for Flicmenus.
   Individual feelme's and a few routines to process whole menus. */


---------************* filedata.c *************-------


/* filedata.c - data structures for the file requestor.  (The normal one
   not the visual browse.) The code part of this is mostly in filemenu.c */


---------************* filemenu.c *************-------


/* Filemenu.c - code to interpret the buttons in filedata.c.  Stuff to
   implement the normal file requestor, and some helper routines for
   the visual browser in browse.c */


---------************* files.c *************-------

/* Files.c - Let user choose whether to load/save/delete any of our 12
   basic file types. */

/* generated with makemenu */

---------************* findfree.c *************-------


/* findfree.c - Find space in the temp-file to put a frame.  Expand file
   if necessary.  Works on temp_flx - our basic indexed frame/state file. */

---------************* fli.c *************-------


/* Fli.c - this file should probably be broken into a few sections.  It has
   the low level routines to uncompress and play-back a FLI flic.  It also
   has a few simple time-oriented utility routines.  Stuff for stepping
   back and forth a single frame.  */


---------************* flood.c *************-------


/* Flood.c - a little flood fill routine.  Nearly portable! A horizontal
   segment/FIFO oriented flood fill.
   */


---------************* freem.c *************-------


/* freem.c - 
	This module contains routines to pop you into and out of a state which
    maximizes free memory by swapping everything possible out to disk.
    It includes two routines - 
   		push_pics() - writes buffers to disk
		pop_pics() - restores ram buffers
	These nest.  Only when the nesting count transitions between 0 and 1 is
	anything actually performed */


---------************* gel.c *************-------


/* gel.c - Stuff to do the gel tool.  Basiccally concentric transparent
  circles with the wider ones thinner. */


---------************* geometry.c *************-------

/* geometry.c - Some linear algebra to help do rotations.  */



---------************* gfx.c *************-------


/* gfx.c - low level PC - VGA graphics routines.  Some fixed point
   arithmetic helpers too. */


---------************* gif.c *************-------


/* gif.c - High level gif routines.  Take care of the file packaging but
   not the compression/decompression.  */


---------************* globals.c *************-------


/* Globals.c - all the really pervasive global variables. */


---------************* grid.c *************-------


/* grid.c - Stuff to implement functions in extras/grid...
   'Snap' input to fall on intersections of a user definable
   grid.  Routines to see and paste the grid too. */


---------************* hlstorgb.c *************-------


/* hlstorgb.c - Routines to convert between rgb and hls representation
   of colors.  RGB coordinates are assumed 0 - 63 (VGA style).  HLS
   coordinates are 0-255. */


---------************* init.c *************-------


/* init.c - Stuff done once only during program start-up.  Entry-point
   and only global - init_sys.c.   Crosslinks with cleanup.c */



---------************* initcmap.c *************-------


/* initcmap.c - Has the RGB data for my favorite startup palette - 
   a 32 level grey scale and a bunch of rainbows.  Below this is
   the code to insure the menus are drawn in visible colors.  (find_colors()
   and related routines.).   When menus are on-screen if necessary
   the last five  color registers are co-opted for menu colors.  It'd
   be nice to make this a bit less obtrusive than it is for the artist.
   Most simply squeeze the picture down to < 250 colors. */


---------************* input.c *************-------


/* input.c  -  This is the messy mouse section.  Responsible for updating
   the values in
   	key_in, key_hit, mouse_button, grid_x, grid_y, uzx, uzy,
   are updated every time c_input is called.  Macros are taken
   care of here by calling the appropriate routines in macro.c.
   The mouse coordinates are kept in both zoomed (for the paint tools:
   grid_x, grid_y) and unzoomed (for the menus: uzx, uzy) form.
   */



---------************* int.asm *************-------

;int.asm - Take over the hardware clock interrupt from MS-DOS and force it
;to a rate close to vertical sync rate (70Hz).


---------************* jfile.c *************-------


/* jfile.c - ask MS-DOS to read,write, and seek without any buffering.
   Arguments are MS-DOS file handle (int), file-name (char *), 
   buffer space pointers (32 bit large model pointers), and
   byte counts/offsets (32 bit long integers).
   */


---------************* lccomp.c *************-------


/* lccomp.c - Some C code that mixes with the assembler code in
   comp.asm and skip.asm to make up compressed pixel packets suitable
   for incorporation into a FLI file.  See also writefli.c */


---------************* lzcomp.asm *************-------

;lzcomp.asm - someday hope to get this to work for me to make GIF saves
;faster.  It's not currently linked or very well tested.  Snagged off
;of CompuServe pics forum.


---------************* macro.c *************-------


/* macro.c - Stuff to help record user input (usually first into a temp file)
   and then play it back without c_input() routine suspecting too much. */


---------************* main.c *************-------


/* main.c -  Make sure system initializes ok, and then flop up the menuing
  system. */


---------************* mainpull.c *************-------


/* mainpull.c - The data structures for the top level drop-down menus up
   along the top.  Also a routine to disable menu options we cant' deal
   with yet. */


---------************* marqi.c *************-------


/* marqi.c - routines to make creepy dotted lines around selected areas. */
/* Also some "Dotout" family functions that take x/y parameters and act
   on render_form.  Dotout's are used by line drawers, circle drawers etc. */


---------************* mask.c *************-------


/* mask.c - Routines to maintain and select our screen-sized bitplane
   used mostly for write-protecting pixels.  */

---------************* memory.c *************-------


/* memory.c - Heap maintainer.  Gets memory straight from ms-dos.  Has
   problems with some Turbo C library routines (like fwrite...).  Does
   handle allocations greater than 64K, and does some simple error checking
   during free. */


---------************* multimen.c *************-------


/* multimen.c - Data structures and code associated with the "Time Select"
   menu that gets called by almost anything that does something over
   move than one frame.  Basic argument to this module is an "auto-vec"
   which will produce a transformed render_form given the original
   render form and an up-to-date uf.  (undo buffer).  This guy lets
   you select the part of your FLIC you want to transform, specify
   ease in/ease out, go visit the palette editor, do a pixel perfect
   (but slow) preview, and finally actually call do_auto with the 
   auto-vec. */


---------************* names.c *************-------


/* names.c - simple string and list management utility routines */


---------************* newvb.asm *************-------

;newvb.asm - Routine to replace int.asm to basically give us a servicable
;substitute for a vertical blank interrupt by massaging the timer chip into
;sync.  Ended up doing wierd things to disk-io, so it is not linked in.
;int.asm (much simpler) does what this routine was supposed to.

; Notes 10/19/88:
; I managed to leave my disk with uuencode at work today. I haven't
; gotten used to my new situation of having to keep track of where
; I leave things- the other day I forgot my phone book at home when
; I had calls to make. My internal RAM seems too prone to cosmic ray
; disturbance to deal with change these days- maybe it's the baby
; cries at 3:00 AM.
;
; Anyway, herein please find first the Messy-Soft compatible version,
; then the Manx C and assembly files so you can put together a test
; version there. If that's a problem leave me a note and I'll upload
; a uuencoded version of the test program tommorrow.
;
; This version automatically sets the variable overflow_ at the beginning
; to accomodate different machine speeds so that there is a time-out
; on the loop that waits for the beginning of the vblank. I've tested this
; on my XT clone, a 386 Compac clone at work, and a genuine blue IBM
; PS/2 model 50 (what a dog!); worked fine on all three and the value
; derived for overflow_ seemed perfectly consistent with the relative
; speeds of the machines and my trial-and-error-derived numbers.
;
; Two more things- the odd problem with the compare went away when I 
; made some other changes. I still don't quite understand, but I suspect
; the problem was some slightly less than brilliant move on my part.
;
; Secondly, you will notice that I am reading iclock as a 16-bit number,
; whereas it's really a 32-bit number. Don't worry, all I need in this case
; is to see a change in the lowest bit, the total value is not important.
;
; You might want to play with the values I selected for VSRATE and MINRATE;
; I never did figure out how to get this card to work in my machine at 70Hz
; so I wasn't really able to tweak the values as much as I wanted. I was
; able to test the routines at 70Hz at work, but to do any real work on
; this stuff there I'd have to set up the whole Manx compiler on my 
; machine, and they have this funny idea that I ought to be working on
; their stuff when I'm there. Annoying, but there it is. We do use the
; Manx 68000 ROM cross-development system there, but that doesn't do much
; good on '86 code.
;
; Let me know if you have any trouble with any of this. My number at work
; is 658-6713 in case you need an immediate answer to anything.
;
;				Tom Jeffries
;*****************************************************************
;
;		Fake Vblank Interrupt Generator
;
; This set of functions allows the timer interrupt to mimic a
; vertical retrace interrupt for VGA cards that do not provide
; one. The system clock is updated at approximately the normal
; (18.2th sec) interval.
;
; Startvbl initializes two variables, in case the vblank is shut
; off and restored in the course of the program, and then redirects
; the timer interrupt, which should still be running at 18.2 Hz, to
; call Inthandler.
;
; The first time through, Inthandler busy-waits until it sees the
; vertical retrace bit in the video status register go high. Since
; the timer is going at 18.2 Hz, it does not need to check for time-
; out. When it sees the vertical retrace bit go high, it resets the
; timer speed to approximately 60Hz and sets a flag so that the
; next time through, Inthandler will check for timeout.
;
; After the first time, Inthandler should always do the same things.
; On entry, it busy-waits for the vertical retrace bit, counting the
; number of loops it takes before that happens. If the number is above
; MAXWAIT-1, it slows down the timer slightly, if it is below MINWAIT-1
; it speeds up the timer slightly.
;
; In the event of a timeout, the timer is reset to 18.2 Hz and the flag
; that indicates first time through is set, causing (hopefully) a
; re-synchronization with the vertical retrace.
;
; You need to know about two functions: _Startvbl, which starts the
; vertical blank interrupt, and _Restoreint, which returns to system
; normal. Make sure you never call _Startvbl twice without a call
; to _Restoreint inbetween.
;
;***************** MASM COMPATIBLE CODE *****************************

---------************* nnvb.asm *************-------

;nnvb.asm - another attempt to generate vblank interrupt with a clock
;chip and a vertical blank status port.  Never quite got it to work.
;Not linked.  I use int.asm instead.

;*****************************************************************
;
;		Fake Vblank Interrupt Generator
;
	.MODEL	LARGE

---------************* ocline.asm *************-------

;ocline.asm - not linked.  A fast line drawer.  The glue between C and
;assembler ended up being so much I rewrote the routine in c (see cline.c)
;and keep this file only for reference.


---------************* onepal.c *************-------


/* onepal.c - A routine to force all the frames of a FLIC to a reasonable
   intermediate palette that is the same for all frames */


---------************* options.c *************-------

/* options.c - module to handle the draw tools menu.  Also by inadvisable
   kludging handles most of the ink types menu as well. */


---------************* overlay.c *************-------


/* overlay.c - handle requests off the "composite..." menu.  Stuff to
   mix two FLICS onto the same screen and eventually same file.  */


---------************* palet2.c *************-------

/* palet2.c - The main bits of code for the palette editor.  Also a lot
   of related code in cluster.c and palpull.c.  This file starts with
   the Flicmenu button declarations for the palette editor control panel. */


---------************* palpull.c *************-------


/* palpull.c - Data structures for the drop-downs used in the palette editor.
	Also code for disabling the bit of the drop downs that user can't use
	currently.  Has the big switch that decides what to do on palette
	drop-down selection too. */

/* generated with makepull */

---------************* peekpoke.asm *************-------

;peekpoke.asm - This module is really pretty boring.  Mostly ways to copy memory
;fairly quickly, and my sysint routine (which follows aztec conventions)
;'cause I couldn't find one in Microsoft.

---------************* pentools.c *************-------


/* pentools.c - routines that recieve input when the cursor is over the
   drawing screen (and not in a sub-menu).  */


---------************* polytool.c *************-------


/* polytool.c - Stuff to rubberband and render polygons, splines, and other
   point-listy vectory objects.  Most of this works on a global poly -
   the working_poly.  There are routines to load and save a poly file
   to/from working_poly here.  Also routines to move individual points
   in a polygon.  */


---------************* pstamp.c *************-------


/* pstamp.c - routine to read the first frame of a FLIC into a buffer
   1/5 the size of a screen.  (4 out of 5 lines are discarded here).
   Then do an x dimension shrink by 5 and put result on screen somewhere.
   */


---------************* pull.c *************-------

/* pull.c - drop-down menu interpreter.  Could tighten this up and
   downsize the Pull structure if wanted to spend a week saving 4K
	sometime.    Arrghh.  It's not too bad considering it's been
	through 3 "windowing" systems since it was first written. */

/* :ts=3 reads better if tab-stop 3.  */

---------************* qnumber.c *************-------


/* qnumber.c - This module is for popping up little requestor to 
	get a single number or a single string */


---------************* quickdat.c *************-------

/* quickdat.c - the data structures for the main control panel.  6 tools,
   6 inks, etc.   Also some code at end for some of the buttons feelme
   and seeme's.  
   */


---------************* random.c *************-------


/* random.c - quick and dirty 12 bit random number generator */


short randseed;

random()
{
if ((randseed+=randseed) >= 0)
	randseed ^= 0x2b41;
return(randseed);
}


---------************* render.c *************-------


/* render.c - Routines to draw on screen, possibly behind menus, in
   current ink.  Most of them eventually funnel through render_dot, but
   the blits for speed and other reasons are implemented separately. */


---------************* rfont.c *************-------


/* rfont.c - Raster Font stuff, draws text based on a blit and a font
   in a format that some day may approach Ventura Publisher, but currently
   looks much more like GEM on the ST with some Mac-like mutations.
   Also data for the Aegis Animator font with proportional stuff stripped.
   (This font is just a handy example of the format, unused itself.)

   There are 2 big routines - systext() - for all text rendered by
   menuing system -  and gftext() for text rendered onto user image. */


---------************* rotate.c *************-------


/* rotate.c - Stuff to implement cel/turn.  Real rotation work is
   done elsewhere in assembler.  This is an interface to the
   'persp' code also used by stretch and optics. */


---------************* savefli.c *************-------


/* savefli.c - Make a FLIC file from temp file (temp.flx) on scratch
   device.  This thing just takes out the indexing.  Doesn't actually
   have to recompress any images.  (That's done in writefli.c). */


---------************* savepic.c *************-------


/* savepic.c - Figure out whether it's GIF or uncompressed image.  
	Then load/save if uncompressed.  If GIF bail out to gif.c.  */


---------************* scanedge.c *************-------


/* scanedge.c - a routine to draw a filled polygon with arbatrary
   edge crossings.  Allocates a bit-plane big enough to hold
   rasterized polygon, and then does and xorline/scanedge routine
   that's similar to what drives the Amiga's blitter.  */


---------************* scircle.asm *************-------

;scircle.asm - not linked.  Relatively fast assembler draw-a-circle.
;Ends up the C/Assembler glue took so long I just nuked the assembler
;portion.  I think  this file still finds some use in Pogo

	;:ts=10

---------************* screen.c *************-------


/* screen.c - Routines to maintain a Screen type structure.  Assures
   the pixel data begins on an even paragraph.  */


---------************* scroller.c *************-------


/* scroller.c - display scrolling name list in file selector, and help out
   browse menu a bit too.  Other scroller users are the draw tools and
   ink types menus.  */


---------************* sdisk.asm *************-------

;sdisk.asm - generate a filled circle.  Input: center radius and lineout
;routine (which may be in C).  Output: a lot of horizontal lines via
;lineout parameter.

	;:ts=10

---------************* seeme.c *************-------


/* seeme.c - Visual part of Flicmenu interpreter.  Lots of
   "seeme" routines suitable for stuffing into Flicmenu structures.
   Recursive button display stuff is in seemenu.c. */


---------************* seemenu.c *************-------



/* seemenu.c - Visual part of Flicmenu interpreter.  Lots of
   "seeme" routines suitable for stuffing into Flicmenu structures.
   Recursive button display stuff is in here.  Other simple seeme's
   are in seeme.c */

---------************* selbrush.c *************-------


/* selbrush.c - Menu that has the brush size slider and not much else */


---------************* sep.c *************-------


/* sep.c - stuff to implement the color separation functions. Also the
   edge tool from the looks of it. */


---------************* shrink4.asm *************-------

;shrink4.asm - No longer linked. Throw out 3 out of every 4 pixels  in a
;horizontal line (or a couple of lines).
;:ts=10


---------************* shrink5.asm *************-------

;shrink5.asm - Throw out 4 out of every 5 pixels  in a
;horizontal line (or a couple of lines).  Used by pstamp.c;
;used to display shrunken 1st frames in browse menu.

;:ts=10


---------************* sintab.c *************-------

/* sintab.c - 2.14 signed fixed point (1 sign bit, 1 bit left of
   decimal, 14 to right actually) trig table and some associated
   2.14 math routines. */


---------************* sixhi.c *************-------

/* sixhi.c - the data for the compiled-in Vpaint font. */


---------************* skip.asm *************-------

;skip.asm - low level stuff to help compress pictures into FLI's.
;:ts=10


---------************* slider.c *************-------


/* slider.c - functions to implement our famous "number on the knob"
   slider gadgets */


---------************* sline.asm *************-------

;sline.asm - no longer linked.  Relatively fast bresenham stepping line
;algorithm.  Glue between this and a C 'dotout' was so great, just went
;straight to C.  File superceded by cline.c


---------************* spiral.c *************-------


/* spiral.c - help draw a spiral */


---------************* splice.c *************-------

/* splice.c - help join two animations together end to end perhaps
   with some transition effect */


---------************* spline.c *************-------

/* spline.c - hermitian splines with tension/continuity/bias.  Always go
   through their control points. */

/* Spline demonstration  */
/* by Tom Hudson 9/30/88 */
/* Tweaked into fixed point by Jim Kent */

#define OPEN 0
#define CLOSED 1


---------************* sqrroot.c *************-------

/* sqrroot.c - use a bit-wise algorithm Robert Leyland certainly must
   understand better than I. */

/*
** Sqr_root() - Return the integer square root the the long integer i
*/



---------************* status.c *************-------


/* status.c - display continue alert box with program info */


---------************* stretch.c *************-------


/* stretch.c - user interface for cel/stretch function.  Eventually will
   call the same raster twisting routine in assemble rotate.c and
   a3d.c (optics) use. */


---------************* stringq.c *************-------

/* stringq.c - Implement a button that lets user edit a single line
   of text */


---------************* summa.c *************-------


/* summa.c - Fetch umouse_x, mouse_buttons etc from summa graphics
   12x12 Summa Sketch tablet.  Basically got to yammer out the
   serial port at it.  */


---------************* tblit8.asm *************-------

;tblit8.asm - Bit blit with a transparent color.  Byte-a-pixel source
;and destination.  Doesn't deal with overlapping source/dest.

;:ts=10


---------************* tempflx.c *************-------


/* tempflx.c - stuff that helps manage our main scratch file. */


---------************* textbox.c *************-------

/* textbox.c - Stuff for continue alerts and yes/no dialogs. */


---------************* textedit.c *************-------


/* textedit.c - This file tries to be a what-you-see is what you get
   text editor with dynamic word-wrap on a possibly proportial spaced
   font - an editor open on an arbitrarily sized window.  Heck, it
   works most of the time!  See also textwind.c wordwrap.c and rfont.c */


---------************* textwind.c *************-------


/* textwind.c - A file with utility text-window oriented routines used
  by textedit.c. */


---------************* thikline.c *************-------


/* thikline. - one of the more horrifying modules at the time of writing.
   The idea is simply to draw a line wider than one pixel thick.  I used
   to do this by 'dragging a brush', but this gets less and less efficient
   as the brush size gets larger.  Instead we make up a 4 sided polygon 
   and polyfill it.  Figuring out exactly the values for these endpoints is
   the fun part.  I never could get the arithmetic to round correctly in
   some of the smaller cases (especially 4 and 8), so I'm using a table
   instead (ptps[]).  You figure out what angle the line is and use it as
   an index into this table to get the offsets of 2 points in the 4-gon
   from a vertex.  After that it's not so bad... */


---------************* time.c *************-------


/* time.c - stuff to insert and delete frames in a FLIC.  Used mostly
   by timemenu.c. */


---------************* timemenu.c *************-------


/* timemenu.c - The data structures and some associated code for the
   Frames control panel. */


---------************* title.c *************-------

/* title.c - The data structures and associated routines for the Titling
   control panel. */


/* generated with makemenu */

---------************* tmove8.asm *************-------

;tmove8.asm - This is the tricky thing that lets me move a cel across the
;screen without much flicker.  Basically is a blit with a transparent color.
;However instead of ignoring the transparent pixels in the source, they are
;taken as a cue to move a pixel from the 'undo' buffer to the destination.

;:ts=10


---------************* truecolo.c *************-------


/* truecolo.c - stuff to help me pretend that my pixels are RGB values
   and not an index into the color map.  */


---------************* tseg.c *************-------


/* tseg.c - data structures and associated code to implement "Time Segment
   selector" */


---------************* tween.c *************-------


/* tween.c - stuff to handle what happens when use pushes 'tween' under
   the poly submenu inside the draw tools menu.   Given two polygons
   generate  polygons that are interpolated beTWEEN them. */


---------************* ublit8.asm *************-------

;ublit8.asm - Blit source underneath transparent color of destination.

;:ts=10


---------************* un5brun.asm *************-------

;un5brun.asm - low level routines to uncompress first frame of fli into
;1/5 size screen (by uncompressing 1 out of 5 lines, and skipping  past
;the other 4).



---------************* unbrun.asm *************-------

;unbrun.asm - low level routine to uncompress 1st frame of a FLI


---------************* vpaint.c *************-------


/* vpaint.c - handle high level user button pushes.  Main pull-down
   interpreter switch and main keyboard interpreter switch.  Implementations
   of many of routines called by above.  The first layer under main(). */


---------************* vpsubs.c *************-------


/* vpsubs.c - routines used by all sort of menu panels.  Really a mismatch.
   Not well suited to being in an overlay. */


---------************* window.c *************-------


/* window.c - Direct pixel output around menus and behind Zoom screen.
   This is what makes rendering a solid box slow in Vpaint... */


---------************* wordwrap.c *************-------


/* wordwrap.c - given a proportional font and a window of a certain size,
   figure out how many words we can fit in a line.  Help titling system
   justify the text. */


---------************* writefli.c *************-------


/* writefli.c - stuff to generate frames compressed from two adjacent frames. */


---------************* zoom.c *************-------


/* zoom.c - help simulate fat-bits.  Position zoom window on screen. */


---------************* zoom4bli.asm *************-------

;zoom4bli.asm - zoom an area of the screen x 4.  Does not HAVE to be
;a full screen width section, but there are some restrictions on width
;of dest, and full screen is only way used in Vpaint.  SUPPOSED to
;deal with arbitrary heights.  I suspect there's a lurking bug with
;non divisible by 4 heights.

;:ts=10


---------************* zoomblit.asm *************-------

;zoomblit.asm - zoom an area of the screen x 2.  Does not HAVE to be
;a full screen width section, but there are some restrictions on width
;of dest, and full screen is only way used in Vpaint.  SUPPOSED to
;deal with arbitrary heights.  I suspect there's a lurking bug with
;non divisible by 2 heights.
;:ts=10

